{"version":3,"file":"run.js","sourceRoot":"","sources":["../../../../mainmenu/src/run.ts"],"names":[],"mappings":";AAAA,0CAA0C;AAC1C,2DAA2D;;AAI3D,uCAA2E;AAe3E;;GAEG;AACH,aAAqB,SAAQ,wBAAc;IACzC;;OAEG;IACH,YAAY,OAAsB;QAChC,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;QAE9B,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,EAAgC,CAAC;IAC7D,CAAC;IAUD;;OAEG;IACH,OAAO;QACL,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;QACzB,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;CACF;AA1BD,0BA0BC","sourcesContent":["// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n\nimport { Menu, Widget } from '@phosphor/widgets';\n\nimport { IJupyterLabMenu, IMenuExtender, JupyterLabMenu } from './labmenu';\n\n/**\n * An interface for a Run menu.\n */\nexport interface IRunMenu extends IJupyterLabMenu {\n  /**\n   * A set storing ICodeRunner for the Run menu.\n   *\n   * ### Notes\n   * The key for the set may be used in menu labels.\n   */\n  readonly codeRunners: Set<IRunMenu.ICodeRunner<Widget>>;\n}\n\n/**\n * An extensible Run menu for the application.\n */\nexport class RunMenu extends JupyterLabMenu implements IRunMenu {\n  /**\n   * Construct the run menu.\n   */\n  constructor(options: Menu.IOptions) {\n    super(options);\n    this.menu.title.label = 'Run';\n\n    this.codeRunners = new Set<IRunMenu.ICodeRunner<Widget>>();\n  }\n\n  /**\n   * A set storing ICodeRunner for the Run menu.\n   *\n   * ### Notes\n   * The key for the set may be used in menu labels.\n   */\n  readonly codeRunners: Set<IRunMenu.ICodeRunner<Widget>>;\n\n  /**\n   * Dispose of the resources held by the run menu.\n   */\n  dispose(): void {\n    this.codeRunners.clear();\n    super.dispose();\n  }\n}\n\n/**\n * A namespace for RunMenu statics.\n */\nexport namespace IRunMenu {\n  /**\n   * An object that runs code, which may be\n   * registered with the Run menu.\n   */\n  export interface ICodeRunner<T extends Widget> extends IMenuExtender<T> {\n    /**\n     * A string label for the thing that is being run,\n     * which is used to populate the menu labels.\n     */\n    noun: string;\n\n    /**\n     * A function to run a chunk of code.\n     */\n    run?: (widget: T) => Promise<void>;\n\n    /**\n     * A function to run the entirety of the code hosted by the widget.\n     */\n    runAll?: (widget: T) => Promise<void>;\n\n    /**\n     * A function to restart and run all the code hosted by the widget, which\n     * returns a promise of whether the action was performed.\n     */\n    restartAndRunAll?: (widget: T) => Promise<boolean>;\n  }\n}\n"]}