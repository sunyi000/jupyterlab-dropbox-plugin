{"version":3,"file":"factory.js","sourceRoot":"","sources":["../../../../codemirror/src/factory.ts"],"names":[],"mappings":";AAAA,0CAA0C;AAC1C,2DAA2D;;AAI3D,qCAA4C;AAE5C;;GAEG;AACH;IACE;;OAEG;IACH,YAAY,WAA8C,EAAE;QA+B5D;;WAEG;QACH,oBAAe,GAAG,CAAC,OAA4B,EAAE,EAAE;YACjD,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,QAAQ,CAAC;YACrC,OAAO,IAAI,yBAAgB,mBACtB,OAAO,IACV,MAAM,oBAAO,IAAI,CAAC,sBAAsB,EAAK,CAAC,OAAO,CAAC,MAAM,IAAI,EAAE,CAAC,KACnE,CAAC;QACL,CAAC,CAAC;QAEF;;WAEG;QACH,sBAAiB,GAAG,CAAC,OAA4B,EAAE,EAAE;YACnD,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,UAAU,CAAC;YACvC,OAAO,IAAI,yBAAgB,mBACtB,OAAO,IACV,MAAM,oBAAO,IAAI,CAAC,wBAAwB,EAAK,CAAC,OAAO,CAAC,MAAM,IAAI,EAAE,CAAC,KACrE,CAAC;QACL,CAAC,CAAC;QAlDA,IAAI,CAAC,sBAAsB,qBACtB,yBAAgB,CAAC,aAAa,IACjC,SAAS,EAAE;gBACT,WAAW,EAAE,aAAa;gBAC1B,GAAG,EAAE,aAAa;gBAClB,UAAU,EAAE,YAAY;gBACxB,GAAG,EAAE,uBAAuB;gBAC5B,WAAW,EAAE,YAAY;gBACzB,OAAO,EAAE,eAAe;gBACxB,QAAQ,EAAE,eAAe;aAC1B,IACE,QAAQ,CACZ,CAAC;QACF,IAAI,CAAC,wBAAwB,qBACxB,yBAAgB,CAAC,aAAa,IACjC,SAAS,EAAE;gBACT,GAAG,EAAE,uBAAuB;gBAC5B,WAAW,EAAE,YAAY;gBACzB,OAAO,EAAE,eAAe;gBACxB,QAAQ,EAAE,eAAe;gBACzB,aAAa,EAAE,GAAG,EAAE;oBAClB,WAAW;gBACb,CAAC;aACF,EACD,WAAW,EAAE,IAAI,EACjB,aAAa,EAAE,IAAI,IAChB,QAAQ,CACZ,CAAC;IACJ,CAAC;CA0BF;AA3DD,0DA2DC","sourcesContent":["// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n\nimport { CodeEditor, IEditorFactoryService } from '@jupyterlab/codeeditor';\n\nimport { CodeMirrorEditor } from './editor';\n\n/**\n * CodeMirror editor factory.\n */\nexport class CodeMirrorEditorFactory implements IEditorFactoryService {\n  /**\n   * Construct an IEditorFactoryService for CodeMirrorEditors.\n   */\n  constructor(defaults: Partial<CodeMirrorEditor.IConfig> = {}) {\n    this.inlineCodeMirrorConfig = {\n      ...CodeMirrorEditor.defaultConfig,\n      extraKeys: {\n        'Cmd-Right': 'goLineRight',\n        End: 'goLineRight',\n        'Cmd-Left': 'goLineLeft',\n        Tab: 'indentMoreOrinsertTab',\n        'Shift-Tab': 'indentLess',\n        'Cmd-/': 'toggleComment',\n        'Ctrl-/': 'toggleComment'\n      },\n      ...defaults\n    };\n    this.documentCodeMirrorConfig = {\n      ...CodeMirrorEditor.defaultConfig,\n      extraKeys: {\n        Tab: 'indentMoreOrinsertTab',\n        'Shift-Tab': 'indentLess',\n        'Cmd-/': 'toggleComment',\n        'Ctrl-/': 'toggleComment',\n        'Shift-Enter': () => {\n          /* no-op */\n        }\n      },\n      lineNumbers: true,\n      scrollPastEnd: true,\n      ...defaults\n    };\n  }\n\n  /**\n   * Create a new editor for inline code.\n   */\n  newInlineEditor = (options: CodeEditor.IOptions) => {\n    options.host.dataset.type = 'inline';\n    return new CodeMirrorEditor({\n      ...options,\n      config: { ...this.inlineCodeMirrorConfig, ...(options.config || {}) }\n    });\n  };\n\n  /**\n   * Create a new editor for a full document.\n   */\n  newDocumentEditor = (options: CodeEditor.IOptions) => {\n    options.host.dataset.type = 'document';\n    return new CodeMirrorEditor({\n      ...options,\n      config: { ...this.documentCodeMirrorConfig, ...(options.config || {}) }\n    });\n  };\n\n  protected inlineCodeMirrorConfig: Partial<CodeMirrorEditor.IConfig>;\n  protected documentCodeMirrorConfig: Partial<CodeMirrorEditor.IConfig>;\n}\n"]}